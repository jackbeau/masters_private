import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Configure Matplotlib to use LaTeX for text rendering
plt.rcParams.update({
    "text.usetex": True,
    "font.family": "serif",
    "font.serif": ["Computer Modern Roman"],
    "font.size": 26,
    "axes.titlesize": 26,
    "axes.labelsize": 26,
    "xtick.labelsize": 26,
    "ytick.labelsize": 26,
    "legend.fontsize": 26,
    "figure.titlesize": 26,
    "text.latex.preamble": r"\usepackage{amsmath}"
})

# Data
data = {
    "Fetch Buffer \n and Pre-Processing": [
        0.8718247414, 0.9103028774, 0.531275034, 0.5505681038, 0.5383820534, 
        0.5289866924, 0.5326180458, 0.5433218479, 0.568944931, 0.5903277397, 
        0.642802, 0.625672102, 0.6759359837, 0.6466088295, 0.7423963547, 
        0.719960928, 0.9091169834, 0.6852548122, 0.7077140808, 0.6733586788, 
        0.6584811211, 0.6458590031, 0.600312233, 0.5921840668, 0.8103761673, 
        0.5673468113, 0.5672330856, 0.5791602135, 0.6337368488, 0.5751459599, 
        0.58710289, 0.5772271156
    ],
    "Tracking": [
        6.419838905, 0.2259478569, 0.2317678928, 0.3635749817, 0.2147982121, 
        0.2329747677, 0.2157540321, 0.2199459076, 0.2266950607, 0.2335758209, 
        0.2406463623, 0.2441198826, 0.2583370209, 0.2597999573, 0.2728419304, 
        0.284965992, 0.2695839405, 0.2690701485, 0.2722189426, 0.264644146, 
        0.2531890869, 0.2508709431, 0.2307300568, 0.2351877689, 0.223875761, 
        0.223760128, 0.221511364, 0.2196810246, 0.2702550888, 0.2261288166, 
        0.229186058, 0.2341930866
    ],
    "Re-ID": [
        0.1839702129, 0.1803410053, 0.1972899437, 0.1854219437, 0.1792080402, 
        0.1827659607, 0.1903643608, 0.190623045, 0.1943511963, 0.2001581192, 
        0.214815855, 0.2235178947, 0.2213468552, 0.2293329239, 0.248347044, 
        0.2677869797, 0.2366960049, 0.2506308556, 0.2325587273, 0.2241621017, 
        0.2158339024, 0.2361240387, 0.1954448223, 0.2211358547, 0.1882789135, 
        0.2036688328, 0.1935842037, 0.1943721771, 0.2022218704, 0.198251009, 
        0.1978957653, 0.2040040493
    ],
    "Update Light Position": [
        0.001297950745, 0.0006923675537, 0.00053191185, 0.0006370544434, 0.0007040500641, 
        0.0005781650543, 0.000834941864, 0.0005717277527, 0.0007059574127, 0.0005929470062, 
        0.0006330013275, 0.0006630420685, 0.0006928443909, 0.0006930828094, 0.0007538795471, 
        0.001207113266, 0.0006949901581, 0.0007078647614, 0.0006778240204, 0.0006620883942, 
        0.0006940364838, 0.0006620883942, 0.0006268024445, 0.0008478164673, 0.0006437301636, 
        0.0005960464478, 0.0007648468018, 0.0005791187286, 0.0009400844574, 0.0005650520325, 
        0.0005781650543, 0.0006248950958
    ]
}

# Create a DataFrame
df = pd.DataFrame(data)

# Calculate the means and standard deviations
means = df.mean()
stds = df.std()

# Create a bar plot with error bars
plt.figure(figsize=(12, 8))
plt.bar(means.index, means.values, capsize=10, color='skyblue')

plt.xlabel(r'\textbf{Steps}', labelpad=14)
plt.ylabel(r'\textbf{Mean Time (seconds)}', labelpad=14)
# plt.title(r'\textbf{Mean Execution Time with Standard Deviation}')
plt.title("")
plt.grid(True)
plt.tight_layout()
plt.savefig('performer_tracker_mean_execution_times_with_std.png')
plt.show()
